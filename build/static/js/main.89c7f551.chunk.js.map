{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/DetailWatchList.js","components/Watchlist.js","components/DetailWatched.js","components/Watched.js","assets/landingPageImg.jpg","components/Menu.js","components/Detail.js","components/Home.js","components/Login.js","components/DetailRecomm.js","assets/bgImg.jpg","components/Profile.js","components/Search.js","components/SearchReg.js","components/Signup.js","components/Unregistered.js","assets/download.jfif","assets/tmdbLogo.jpg","components/Footer.js","components/DetailHistory.js","components/WatchHistory.js","components/ProfileUpdate.js","App.js","reportWebVitals.js","index.js"],"names":["Header","fn","t","className","style","to","onClick","clearTimeout","state","action","type","watchlist","payload","initialState","watched","GlobalContext","createContext","GlobalProvider","props","useReducer","AppReducer","dispatch","Provider","value","addMovieToWatchlist","movie","children","DetailWatchList","btn","token","tk","useContext","duration","title","useState","media","setMedia","button","setButton","api","process","media_type","media_id","entry_id","useEffect","a","axios","get","cData","data","console","log","getData","name","epRunTime","Array","isArray","episode_run_time","noOfEp","number_of_episodes","original_name","runtime","original_title","imgUrl","backdrop_path","poster_path","whichone","alt","src","date","Date","d","getFullYear","toString","getMonth","getDate","details","imgurl","id","viewer_id","time","status","post","then","res","rec","recom_id","hist","headers","authorization","res2","catch","error2","res4","error4","error","handleAdd","err","handleRemove","Watchlist","flag","setFlag","result","setResult","getWatch","map","DetailWatch","Watched","Menu","Detail","menu","setMenu","setStatus","firstUpdate","useRef","m","s","current","dur","put","res3","error3","wish","Home","setTrending","results","trending","class","top","backgroundImage","landingPageImg","backgroundSize","filter","height","color","position","left","transform","backgroundColor","padding","borderRadius","borderStyle","textAlign","fontFamily","fontWeight","fontSize","display","flexWrap","Login","ft","username","setUsername","password","setPassword","navigate","useNavigate","flexDirection","justifyContent","alignItems","marginTop","width","textShadow","paddingTop","onSubmit","e","preventDefault","cred","expireTime","jwt","verify","exp","getTime","Math","floor","timer","setTimeout","alert","placeholder","marginBottom","onChange","target","required","paddingBottom","href","DetailRecomm","del","resD","errD","Profile","setRecomm","setTime","getProfile","getRecomm","recomm","json","created_on","dateStr","JSON","parse","year","month","wastedShowTime","num","h","round","bgImg","overflow","marginLeft","viewer_name","toUpperCase","tv_wishlisted","movie_wishlisted","tv_watched","movie_watched","tv_time","movie_time","Search","field","setField","align","event","backgroundPositionX","backgroundPositionY","SearchReg","Signup","setName","email","setEmail","age","setAge","Axios","Unregistered","Footer","bottom","marginRight","tmdb","DetailHistory","WatchHistory","flag2","setFlag2","setDate","body","length","ProfileUpdate","App","sessionStorage","getItem","decodedToken","decode","now","auth","getAuth","setAuth","getDecode","dtoken","setDecode","setToken","changeAuth","setItem","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.89c7f551.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport const Header = ({ fn, t }) => {\n    return (\n        <header>\n            <div className=\"container\" style={{\n                \"-webkit-text-size-adjust\": \"100%\"\n\n            }}>\n                <div className=\"inner-content\">\n                    <div className=\"brand\" style={{\n                        \"padding\": \"18px\"\n                    }}>\n                        <Link to=\"/\">Tempus</Link>\n                    </div>\n\n                    <ul className='nav-links'>\n                        <li>\n                            <Link to=\"/profile\">Profile</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/watchlist\">Watch List</Link>\n                        </li>\n\n                        <li>\n                            <Link to=\"/watched\">Watched</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/searchReg\">Search</Link>\n                        </li>\n                        <li>\n                            <button className='btn'\n                                onClick={() => {\n                                    fn('', false)\n                                    clearTimeout(t)\n                                }\n                                }>Logout</button>\n                        </li>\n\n\n\n\n\n\n\n                    </ul>\n                </div>\n            </div>\n        </header >\n    )\n}\n","export default (state, action) => {\n    switch (action.type){\n        case \"ADD_MOVIE_TO_WATCHLIST\":\n            return{\n                ...state,\n                watchlist: [action.payload, ...state.watchlist],\n            }\n        default:\n            return state\n    }\n}","import React, { createContext, useReducer ,useEffect } from 'react'\nimport AppReducer from './AppReducer'\n\n//intitial state\nconst initialState = {\n    watchlist: [],\n    watched: [],\n}\n\n//create context\nexport const GlobalContext = createContext(initialState)\n\n//provider components\nexport const GlobalProvider = props => {\n    const [state, dispatch] = useReducer(AppReducer, initialState)\n\n    //actions\n    const addMovieToWatchlist= movie => {\n        dispatch({type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie })\n    }\n\n    return(\n        <GlobalContext.Provider \n            value={{\n                watchlist: state.watchlist, \n                watched: state.watched, \n                addMovieToWatchlist, \n            }}\n        >\n            {props.children}\n        </GlobalContext.Provider>\n    )\n}","import axios from 'axios'\r\nimport React from 'react'\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport \"./detail.css\"\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { Watchlist } from './Watchlist'\r\n\r\nfunction DetailWatchList({ props, btn, token, tk }) {\r\n\r\n    const { addMovieToWatchlist, watchlist } = useContext(GlobalContext)\r\n\r\n    function handleAdd() {\r\n        setButton(false)\r\n        let date = new Date()\r\n        let year = date.getFullYear().toString()\r\n        let month = (date.getMonth() + 1).toString()\r\n        let day = date.getDate().toString()\r\n        let d = year + \"-\" + month + \"-\" + day\r\n        let details = {\r\n            title: title,\r\n            imgurl: imgUrl,\r\n            media_type: props.media_type,\r\n            media_id: media.id,\r\n            viewer_id: token.id,\r\n            duration: duration,\r\n            time: d,\r\n            status: \"watched\"\r\n        }\r\n        console.log(details)\r\n        axios.post(\"/db/add\", details)\r\n            .then(res => {\r\n                let rec = {\r\n                    media_id: media.id,\r\n                    media_type: props.media_type\r\n                }\r\n                let dur = {\r\n                    media_type: props.media_type,\r\n                    duration: duration\r\n                }\r\n                console.log(\"rewc:\", rec)\r\n                let del = {\r\n                    recom_id: props.recom_id\r\n                }\r\n                let hist = {\r\n                    media_type: props.media_type,\r\n                    media_id: media_id\r\n                }\r\n\r\n\r\n                axios.post(\"/db/recomm\", rec, {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                }).then(res2 => console.log(\"sucess\", res2))\r\n                    .catch(error2 => console.log(error2))\r\n\r\n                // axios.put(\"http://localhost:5001/db/duration\", dur, {\r\n                //     headers: {\r\n                //         authorization: `bearer ${tk}`\r\n                //     }\r\n\r\n\r\n                // }).then(res3 => console.log(\"success for duration\", res3))\r\n                //     .catch(error3 => console.log(error3))\r\n                axios.post(\"/db/watch_history\", hist, {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                }).then(res4 =>\r\n                    console.log(\"sucess in history entry\", res4))\r\n                    .catch(error4 => console.log(error4))\r\n\r\n\r\n                console.log(res)\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    function handleRemove() {\r\n        setButton(false)\r\n        let details = {\r\n            entry_id: entry_id,\r\n            status: 'watchlist',\r\n            media_id: media_id,\r\n            media_type: type,\r\n            duration: duration,\r\n            id: props.viewer_id\r\n        }\r\n        console.log(\"deatils:\", details)\r\n\r\n        axios.post(\"/db/remove\", details, {\r\n            headers: {\r\n                authorization: `bearer ${tk}`\r\n            }\r\n        })\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n    //let storedMovie = watchlist.find(o => o.id === props.id)\r\n    //const watchlistDisabled = storedMovie? true: false\r\n    const [media, setMedia] = useState({})\r\n    const [button, setButton] = useState(btn)\r\n    const api = process.env.REACT_APP_API_KEY\r\n    const type = props.media_type\r\n    var media_id = props.media_id\r\n    var entry_id = props.entry_id\r\n\r\n    useEffect(() => {\r\n\r\n        async function getData() {\r\n            if (props.media_type === \"tv\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/tv/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n\r\n\r\n            }\r\n            if (props.media_type === \"movie\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/movie/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n            }\r\n        }\r\n\r\n        getData()\r\n\r\n    }, [])\r\n\r\n    var duration\r\n    var title\r\n\r\n    if (type === \"tv\" || type === \"movie\") {\r\n\r\n        if (type === \"tv\") {\r\n            title = media.name\r\n            let epRunTime = 0\r\n            if (Array.isArray(media.episode_run_time)) {\r\n                epRunTime = media.episode_run_time[0]\r\n            }\r\n            else {\r\n                epRunTime = media.episode_run_time\r\n            }\r\n            let noOfEp = media.number_of_episodes\r\n            duration = epRunTime * noOfEp\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_name\r\n        }\r\n        if (type === \"movie\") {\r\n            title = media.title\r\n            duration = media.runtime\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_title\r\n        }\r\n    }\r\n    const imgUrl = (media.backdrop_path) ? media.backdrop_path : media.poster_path\r\n    const whichone = (media.backdrop_path) ? \"backdrop\" : \"poster\"\r\n    return (\r\n\r\n        <div className=' standard bg-blue dib br4  pd4 ma3 grow bw3 shadow=7'>\r\n\r\n\r\n            <img className={`${whichone}`} alt='Not Available' src={`https://image.tmdb.org/t/p/original/${imgUrl}`} />\r\n\r\n            <div className=' f5 tc'>\r\n                <h4>{title} </h4>\r\n                <p>{props.media_type}</p>\r\n                <p>{duration} min  </p>\r\n                {button ? <div>\r\n                    <button\r\n                        className='btn'\r\n\r\n                        onClick={() => handleAdd()}\r\n                    >Watch</button>\r\n                    <span>  </span>\r\n                    <button\r\n                        className='btnR'\r\n\r\n                        onClick={() => handleRemove()}\r\n                    >Remove</button>\r\n                </div> : <></>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailWatchList\r\n","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport DetailWatchList from './DetailWatchList'\n\nexport const Watchlist = ({ token, tk }) => {\n    const [flag, setFlag] = useState(false)\n    const [result, setResult] = useState([])\n\n    useEffect(() => {\n        async function getWatch() {\n            try {\n                let res = await axios.get(\"/db/add/1\", {\n                    headers: {\n                        authorization: `bearer ${tk}`\n                    }\n                })\n                setResult(res.data)\n                setFlag(true)\n            }\n            catch (error) {\n                console.log(error);\n            }\n\n        }\n        getWatch()\n    }, [])\n    return (\n        <div>\n            <h1>Watchlist Page</h1>\n\n            {\n                flag ?\n                    result.map(details => {\n                        if (details.media_type === \"tv\" || details.media_type === \"movie\")\n                            return (\n\n                                <DetailWatchList key={details.id} props={details} btn={\"true\"} token={token} tk={tk} />\n\n                            )\n\n                    }) : <></>\n            }\n        </div>\n    )\n}\n","import axios from 'axios'\nimport React from 'react'\nimport { useState, useEffect, useContext } from 'react'\nimport \"./detail.css\"\nimport { GlobalContext } from '../context/GlobalState'\nimport { Watchlist } from './Watchlist'\n\nfunction DetailWatch({ props, btn, token, tk }) {\n\n    const { addMovieToWatchlist, watchlist } = useContext(GlobalContext)\n\n    function handleRemove() {\n        setButton(false)\n        let details = {\n            entry_id: entry_id,\n            status: 'watched',\n            media_id: media_id,\n            media_type: type,\n            duration: duration,\n            id: props.viewer_id\n        }\n        console.log(\"deatils:\", details)\n\n        axios.post(\"/db/remove\", details, {\n            headers: {\n                authorization: `bearer ${tk}`\n            }\n        })\n            .then(res => console.log(res))\n            .catch(err => console.log(err))\n\n    }\n\n    //let storedMovie = watchlist.find(o => o.id === props.id)\n    //const watchlistDisabled = storedMovie? true: false\n    const [media, setMedia] = useState({})\n    const [button, setButton] = useState(btn)\n    const api = process.env.REACT_APP_API_KEY\n    const type = props.media_type\n    var media_id = props.media_id\n    var entry_id = props.entry_id\n\n    useEffect(() => {\n\n        async function getData() {\n            if (props.media_type === \"tv\") {\n                try {\n                    const cData = await axios.get(`https://api.themoviedb.org/3/tv/${media_id}?api_key=${api}&language=en-US`)\n                    setMedia(cData.data)\n                    console.log(cData.data)\n                } catch (err) {\n                    console.log(err)\n                }\n\n\n            }\n            if (props.media_type === \"movie\") {\n                try {\n                    const cData = await axios.get(`https://api.themoviedb.org/3/movie/${media_id}?api_key=${api}&language=en-US`)\n                    setMedia(cData.data)\n                    console.log(cData.data)\n                } catch (err) {\n                    console.log(err)\n                }\n            }\n        }\n\n        getData()\n\n    }, [])\n\n    var duration\n    var title\n\n    if (type === \"tv\" || type === \"movie\") {\n\n        if (type === \"tv\") {\n            title = media.name\n            let epRunTime = 0\n            if (Array.isArray(media.episode_run_time)) {\n                epRunTime = media.episode_run_time[0]\n            }\n            else {\n                epRunTime = media.episode_run_time\n            }\n            let noOfEp = media.number_of_episodes\n            duration = epRunTime * noOfEp\n            if (!duration) {\n                duration = 0\n            }\n            if (title === null)\n                title = media.original_name\n        }\n        if (type === \"movie\") {\n            title = media.title\n            duration = media.runtime\n            if (!duration) {\n                duration = 0\n            }\n            if (title === null)\n                title = media.original_title\n        }\n    }\n    const imgUrl = (media.backdrop_path) ? media.backdrop_path : media.poster_path\n    const whichone = (media.backdrop_path) ? \"backdrop\" : \"poster\"\n    return (\n\n        <div className=' standard bg-blue dib br4  pd4 ma3 grow bw3 shadow=7'>\n\n\n            <img className={`${whichone}`} alt='Not Available' src={`https://image.tmdb.org/t/p/original/${imgUrl}`} />\n\n            <div className=' f5 tc'>\n                <h4>{title} </h4>\n                <p>{props.media_type}</p>\n                <p>{duration} min  </p>\n                {button ? <button\n                    className='btnR'\n\n                    onClick={() => handleRemove()}\n                >Remove</button> : <></>}\n            </div>\n        </div>\n    )\n}\n\nexport default DetailWatch\n","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport DetailWatch from './DetailWatched'\n\nexport const Watched = ({ token, tk }) => {\n    const [flag, setFlag] = useState(false)\n    const [result, setResult] = useState([])\n\n    useEffect(() => {\n        async function getWatch() {\n            try {\n                let res = await axios.get(\"/db/add/2\", {\n                    headers: {\n                        authorization: `bearer ${tk}`\n                    }\n                })\n                setResult(res.data)\n                setFlag(true)\n            }\n            catch (error) {\n                console.log(error);\n            }\n\n        }\n        getWatch()\n    }, [])\n    return (\n        <div>\n            <h1>Watched Page</h1>\n\n            {\n                flag ?\n                    result.map(details => {\n                        if (details.media_type === \"tv\" || details.media_type === \"movie\")\n                            return (\n\n                                <DetailWatch key={details.id} props={details} btn={\"true\"} token={token} />\n\n                            )\n\n                    }) : <></>\n            }\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/landingPageImg.af1549fc.jpg\";","import React from 'react'\n\nfunction Menu({ fn }) {\n    return (\n        <div>\n            <button className='btn' onClick={() => fn(false, \"watched\")}>Watched</button>\n            <span>  </span>\n            <button className='btn' onClick={() => fn(false, \"watchlist\")}>Watchlist</button>\n        </div>\n    )\n}\n\nexport default Menu\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { useState, useEffect, useContext, useRef } from 'react'\r\nimport \"./detail.css\"\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { Watchlist } from './Watchlist'\r\nimport Menu from './Menu'\r\n\r\nfunction Detail({ props, btn, token, tk }) {\r\n\r\n    const { addMovieToWatchlist, watchlist } = useContext(GlobalContext)\r\n\r\n    function handleAdd() {\r\n        let date = new Date()\r\n        let year = date.getFullYear().toString()\r\n        let month = (date.getMonth() + 1).toString()\r\n        let day = date.getDate().toString()\r\n        let d = year + \"-\" + month + \"-\" + day\r\n        let details = {\r\n            title: title,\r\n            imgurl: imgUrl,\r\n            media_type: props.media_type,\r\n            media_id: media.id,\r\n            viewer_id: token.id,\r\n            duration: duration,\r\n            time: d,\r\n            status: status\r\n        }\r\n        console.log(details)\r\n        axios.post(\"/db/add\", details)\r\n            .then(res => {\r\n                console.log(res)\r\n                let rec = {\r\n                    media_id: media.id,\r\n                    media_type: props.media_type\r\n                }\r\n                let dur = {\r\n                    media_type: props.media_type,\r\n                    duration: duration\r\n                }\r\n                let hist = {\r\n                    media_type: props.media_type,\r\n                    media_id: media_id\r\n                }\r\n                console.log(\"rewc:\", rec)\r\n                if (status === \"watched\") {\r\n                    axios.post(\"/db/recomm\", rec, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n                    }).then(res2 => console.log(\"sucess\", res2))\r\n                        .catch(error2 => console.log(error2))\r\n\r\n                    axios.put(\"/db/duration\", dur, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n\r\n                    }).then(res3 => console.log(\"success for duration\", res3))\r\n                        .catch(error3 => console.log(error3))\r\n\r\n                    axios.post(\"/db/watch_history\", hist, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n                    }).then(res4 =>\r\n                        console.log(\"sucess in history entry\", res4))\r\n                        .catch(error4 => console.log(error4))\r\n                }\r\n                if (status === \"watchlist\") {\r\n                    const wish = {\r\n                        media_type: props.media_type\r\n                    }\r\n                    axios.put(\"/db/profile\", wish, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n\r\n                    }).then(res4 => console.log(\"success for duration\", res4))\r\n                        .catch(error4 => console.log(error4))\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log(error))\r\n\r\n\r\n    }\r\n\r\n    //let storedMovie = watchlist.find(o => o.id === props.id)\r\n    //const watchlistDisabled = storedMovie? true: false\r\n    const [media, setMedia] = useState({})\r\n    const [menu, setMenu] = useState(false)\r\n    const [status, setStatus] = useState(\"\")\r\n    const [flag, setFlag] = useState(btn)\r\n\r\n    const firstUpdate = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (firstUpdate.current) {\r\n            firstUpdate.current = false;\r\n            return;\r\n        }\r\n        handleAdd()\r\n    }, [status])\r\n\r\n    async function menuStatus(m, s) {\r\n        console.log(\"status passd\", s)\r\n        setMenu(m)\r\n        setStatus(s)\r\n        console.log(\"status set:\", status)\r\n        // handleAdd()\r\n    }\r\n    const api = process.env.REACT_APP_API_KEY\r\n    const type = props.media_type\r\n    var media_id = props.id\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function getData() {\r\n            if (props.media_type === \"tv\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/tv/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n\r\n\r\n            }\r\n            if (props.media_type === \"movie\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/movie/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        getData()\r\n\r\n    }, [])\r\n\r\n    var duration\r\n    var title\r\n\r\n    if (type === \"tv\" || type === \"movie\") {\r\n\r\n        if (type === \"tv\") {\r\n            title = props.name\r\n            let epRunTime = 0\r\n            if (Array.isArray(media.episode_run_time)) {\r\n                epRunTime = media.episode_run_time[0]\r\n            }\r\n            else {\r\n                epRunTime = media.episode_run_time\r\n            }\r\n\r\n            let noOfEp = media.number_of_episodes\r\n            duration = epRunTime * noOfEp\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = props.original_name\r\n        }\r\n        if (type === \"movie\") {\r\n            title = props.title\r\n            duration = media.runtime\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = props.original_title\r\n        }\r\n    }\r\n    const imgUrl = (props.backdrop_path) ? props.backdrop_path : props.poster_path\r\n    const whichone = (props.backdrop_path) ? \"backdrop\" : \"poster\"\r\n    return (\r\n\r\n        <div className=' standard bg-blue dib br4  pd4 ma3 grow bw3 shadow=7'>\r\n\r\n\r\n            <img className={`${whichone}`} alt='Not Available' src={`https://image.tmdb.org/t/p/original/${imgUrl}`} />\r\n\r\n            <div className=' f5 tc'>\r\n                <h4>{title} </h4>\r\n                <p>{props.media_type}</p>\r\n                <p>{duration} min  </p>\r\n                {flag ? <button\r\n                    className='btn'\r\n                    //disabled={watchlistDisabled} \r\n                    onClick={() => {\r\n                        setFlag(false)\r\n                        setMenu(true)\r\n                    }}\r\n                >ADD</button> : <></>}\r\n                {\r\n                    menu ? <Menu fn={menuStatus} /> : <></>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Detail\r\n","import React, { useState, useEffect } from 'react'\r\nimport landingPageImg from '../assets/landingPageImg.jpg'\r\nimport axios from 'axios'\r\nimport Detail from './Detail'\r\nimport { Link } from 'react-router-dom'\r\nexport const Home = () => {\r\n    useEffect(() => {\r\n        const trendingMedia = () => {\r\n            const api = process.env.REACT_APP_API_KEY\r\n            axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=${api}`)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setTrending(res.data.results)\r\n                    setFlag(true)\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        trendingMedia()\r\n    }, [])\r\n    const [trending, setTrending] = useState([])\r\n    const [flag, setFlag] = useState(false)\r\n    return (\r\n        <div>\r\n            <div class=\"hero\">\r\n                <div class=\"bg_image\"\r\n                    style={{\r\n                        top: \"0px\",\r\n                        backgroundImage: `url(${landingPageImg})`,\r\n                        backgroundSize: \"cover\",\r\n                        filter: \"brightness(100%)\",\r\n                        height: \"45vh\",\r\n                        color: \"#f5f5f5\",\r\n                    }}>\r\n                    <div class=\"hero-content-area\"\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: \"50%\",\r\n                            left: \"50%\",\r\n                            transform: \"translate(-50%, -50%)\",\r\n                            color: \"orange\",\r\n                            filter: \"brightness(100%)\",\r\n                            backgroundColor: \"white\",\r\n                            padding: \"0px 10px 10px 10px\",\r\n                            borderRadius: \"15px\",\r\n                            borderStyle: \"solid\",\r\n                            textAlign: \"center\",\r\n                            fontFamily: \"font-family: 'Work Sans', sans-serif;\"\r\n                        }}>\r\n                        <h1\r\n                            style={{\r\n                                fontWeight: \"bold\",\r\n                                fontSize: \"60px\",\r\n                                textAlign: \"center\"\r\n                            }}>Welcome.</h1>\r\n                        <h3>Keep track of what you watch</h3>\r\n                        <Link className=\"btn\" to=\"/search\">Search</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"mov-cards\"\r\n                style={{\r\n                    top: \"0px\",\r\n                    //backgroundColor: \"white\"\r\n                }}>\r\n                <h1\r\n                    style={{\r\n                        fontWeight: \"bold\",\r\n                        padding: \"5px 5px\"\r\n                    }}>Trending</h1>\r\n                <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                    {/* <Detail key={details.id} props={details} /> */}\r\n                </div>\r\n                {\r\n                    flag ?\r\n                        trending.map(details => {\r\n                            if (details.media_type === \"tv\" || details.media_type === \"movie\")\r\n                                return (\r\n\r\n                                    <Detail key={details.id} props={details} />\r\n\r\n                                )\r\n\r\n                        }) : <></>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport axios from 'axios'\nimport landingPageImg from '../assets/landingPageImg.jpg'\nimport jwt from 'jsonwebtoken'\n\nexport const Login = ({ fn, ft }) => {\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const navigate = useNavigate()\n\n    const handleLogin = (e) => {\n        e.preventDefault()\n        const cred = {\n            username: username,\n            password: password\n        }\n        axios.post('/db/login', cred)\n            .then(res => {\n\n                fn(res.data, true)\n\n                let token = res.data\n                let secret = process.env.REACT_APP_SECRET\n                let result = jwt.verify(token, secret)\n\n\n                let expireTime = result.exp * 1000\n                const d = new Date()\n                const t = d.getTime()\n\n                expireTime = Math.floor((expireTime - t))\n                // expireTime = 10000\n                const timer = setTimeout(() => {\n                    fn('', false)\n                    alert(\"Session Expired Login again\")\n                }, expireTime)\n                ft(timer)\n                navigate(\"/profile\")\n            })\n            .catch(err => {\n                alert(\"invalid username or password\")\n                console.log(err)\n\n            })\n\n    }\n\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n            }}>\n            <section\n                style={{\n                    marginTop: \"100px\",\n                    backgroundImage: `url(${landingPageImg})`,\n                    filter: \"brightness(100%)\",\n                    backgroundSize: \"cover\",\n                    width: \"500px\",\n                    height: \"300px\",\n                    borderRadius: \"10px\"\n                }}>\n                <h1\n                    style={{\n                        textAlign: \"center\",\n                        color: \"orange\",\n                        textShadow: \"0 0 6px black\",\n                        paddingTop: \"40px\",\n                        fontWeight: \"bold\",\n                    }}>Login</h1>\n                <form onSubmit={handleLogin}>\n                    <div className='login-div'\n                        style={{\n                            textAlign: \"center\"\n                        }}>\n                        <input type=\"text\" placeholder=\"username\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            onChange={(e) => setUsername(e.target.value)}\n                            required\n                        />\n                        <br />\n                        <input type=\"password\" placeholder=\"password\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            onChange={(e) => setPassword(e.target.value)}\n                            required\n                        />\n                        <br />\n                        <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </section>\n\n            <section>\n                <h6\n                    style={{\n                        paddingTop: \"40px\",\n                        paddingBottom: \"40px\",\n                        textAlign: \"center\"\n                    }}>Don't have an account? <a href='/Signup'\n                        style={{\n                            color: \"lightgreen\"\n                        }}>Signup</a></h6>\n            </section>\n\n        </div>\n    )\n}\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { useState, useEffect, useContext, useRef } from 'react'\r\nimport \"./detail.css\"\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { Watchlist } from './Watchlist'\r\nimport Menu from './Menu'\r\n\r\nfunction DetailRecomm({ props, btn, token, tk }) {\r\n\r\n    const { addMovieToWatchlist, watchlist } = useContext(GlobalContext)\r\n\r\n    function handleAdd() {\r\n        let date = new Date()\r\n        let year = date.getFullYear().toString()\r\n        let month = (date.getMonth() + 1).toString()\r\n        let day = date.getDate().toString()\r\n        let d = year + \"-\" + month + \"-\" + day\r\n        let details = {\r\n            title: title,\r\n            imgurl: imgUrl,\r\n            media_type: props.media_type,\r\n            media_id: media.id,\r\n            viewer_id: token.id,\r\n            duration: duration,\r\n            time: d,\r\n            status: status\r\n        }\r\n        console.log(details)\r\n        axios.post(\"/db/add\", details)\r\n            .then(res => {\r\n                console.log(res)\r\n                let rec = {\r\n                    media_id: media.id,\r\n                    media_type: props.media_type\r\n                }\r\n                let dur = {\r\n                    media_type: props.media_type,\r\n                    duration: duration\r\n                }\r\n                console.log(\"rewc:\", rec)\r\n                let del = {\r\n                    recom_id: props.recom_id\r\n                }\r\n                let hist = {\r\n                    media_type: props.media_type,\r\n                    media_id: media_id\r\n                }\r\n                axios.post(\"/db/recommD\", del, {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                }).then(resD => console.log('del from rec', resD))\r\n                    .catch(errD => console.log(\"LETSEE:\", errD))\r\n\r\n                if (status === \"watched\") {\r\n                    axios.post(\"/db/recomm\", rec, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n                    }).then(res2 => console.log(\"sucess\", res2))\r\n                        .catch(error2 => console.log(error2))\r\n\r\n                    axios.put(\"/db/duration\", dur, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n\r\n                    }).then(res3 => console.log(\"success for duration\", res3))\r\n                        .catch(error3 => console.log(error3))\r\n                    axios.post(\"/db/watch_history\", hist, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n                    }).then(res4 =>\r\n                        console.log(\"sucess in history entry\", res4))\r\n                        .catch(error4 => console.log(error4))\r\n                }\r\n                if (status === \"watchlist\") {\r\n                    const wish = {\r\n                        media_type: props.media_type\r\n                    }\r\n                    axios.put(\"/db/profile\", wish, {\r\n                        headers: {\r\n                            authorization: `bearer ${tk}`\r\n                        }\r\n\r\n                    }).then(res4 => console.log(\"success for duration\", res4))\r\n                        .catch(error4 => console.log(error4))\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    //let storedMovie = watchlist.find(o => o.id === props.id)\r\n    //const watchlistDisabled = storedMovie? true: false\r\n    const [media, setMedia] = useState({})\r\n    const [menu, setMenu] = useState(false)\r\n    const [status, setStatus] = useState(\"\")\r\n    const [flag, setFlag] = useState(btn)\r\n    const api = process.env.REACT_APP_API_KEY\r\n    const type = props.media_type\r\n    var media_id = props.recom_id\r\n    const firstUpdate = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (firstUpdate.current) {\r\n            firstUpdate.current = false;\r\n            return;\r\n        }\r\n        handleAdd()\r\n    }, [status])\r\n\r\n    async function menuStatus(m, s) {\r\n        console.log(\"status passd\", s)\r\n        setMenu(m)\r\n        setStatus(s)\r\n        console.log(\"status set:\", status)\r\n        // handleAdd()\r\n    }\r\n    useEffect(() => {\r\n\r\n        async function getData() {\r\n            if (props.media_type === \"tv\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/tv/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n\r\n\r\n            }\r\n            if (props.media_type === \"movie\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/movie/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n            }\r\n        }\r\n\r\n        getData()\r\n\r\n    }, [])\r\n\r\n    var duration\r\n    var title\r\n\r\n    if (type === \"tv\" || type === \"movie\") {\r\n\r\n        if (type === \"tv\") {\r\n            title = media.name\r\n            let epRunTime = 0\r\n            if (Array.isArray(media.episode_run_time)) {\r\n                epRunTime = media.episode_run_time[0]\r\n            }\r\n            else {\r\n                epRunTime = media.episode_run_time\r\n            }\r\n            let noOfEp = media.number_of_episodes\r\n            duration = epRunTime * noOfEp\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_name\r\n        }\r\n        if (type === \"movie\") {\r\n            title = media.title\r\n            duration = media.runtime\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_title\r\n        }\r\n    }\r\n    const imgUrl = (media.backdrop_path) ? media.backdrop_path : media.poster_path\r\n    const whichone = (media.backdrop_path) ? \"backdrop\" : \"poster\"\r\n    return (\r\n\r\n        <div className=' standard bg-blue dib br4  pd4 ma3 grow bw3 shadow=7'>\r\n\r\n\r\n            <img className={`${whichone}`} alt='Not Available' src={`https://image.tmdb.org/t/p/original/${imgUrl}`} />\r\n\r\n            <div className=' f5 tc'>\r\n                <h4>{title} </h4>\r\n                <p>{props.media_type}</p>\r\n                <p>{duration} min  </p>\r\n                {flag ? <button\r\n                    className='btn'\r\n                    //disabled={watchlistDisabled} \r\n                    onClick={() => {\r\n                        setFlag(false)\r\n                        setMenu(true)\r\n                    }}\r\n                >ADD</button> : <></>}\r\n                {\r\n                    menu ? <Menu fn={menuStatus} /> : <></>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailRecomm\r\n","export default __webpack_public_path__ + \"static/media/bgImg.5a339c99.jpg\";","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport DetailRecomm from './DetailRecomm'\r\nimport bgImg from '../assets/bgImg.jpg'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\n//import avatar from '../assets/avatar.png'\r\nexport const Profile = ({ token, tk }) => {\r\n    useEffect(() => {\r\n        async function getProfile() {\r\n            try {\r\n                let res = await axios.get(\"/db/profile\", {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                })\r\n                setResult(res.data[0])\r\n                console.log(res.data)\r\n                setFlag(true)\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n        getProfile()\r\n        async function getRecomm() {\r\n            try {\r\n                let res = await axios.get(\"/db/recomm\", {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                })\r\n                setRecomm(res.data)\r\n                console.log(res.data)\r\n\r\n\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n        getRecomm()\r\n        async function getTime() {\r\n            try {\r\n                let res = await axios.get(\"/db/total_time\", {\r\n                    headers: {\r\n                        authorization: `bearer ${tk}`\r\n                    }\r\n                })\r\n                setTime(res.data[0])\r\n                console.log(\"time date\", res.data[0])\r\n\r\n\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n        getTime()\r\n\r\n    }, [])\r\n\r\n    const [result, setResult] = useState([])\r\n    const [recomm, setRecomm] = useState([])\r\n    const [time, setTime] = useState([])\r\n    const [flag, setFlag] = useState(false)\r\n    var json = `\"${result.created_on}\"`\r\n    var dateStr = JSON.parse(json)\r\n    var date = new Date(dateStr)\r\n    let year = date.getFullYear().toString()\r\n    let month = (date.getMonth() + 1).toString()\r\n    let day = date.getDate().toString()\r\n    let d = day + \"-\" + month + \"-\" + year\r\n    // var dateStr = JSON.parse(result.created_on);\r\n    // var date = new Date(dateStr);\r\n    function wastedShowTime(num) {\r\n        var d = Math.floor(num / 1440);\r\n        var h = Math.floor((num - (d * 1440)) / 60);\r\n        var m = Math.round(num % 60);\r\n\r\n        if (d > 0) {\r\n            return (d + \" days, \" + h + \" hours, \" + m + \" minutes\");\r\n        } else {\r\n            return (h + \" hours, \" + m + \" minutes\");\r\n        }\r\n    }\r\n    //let bannerUrl = \"https://eu.ui-avatars.com/api/?background=0D8ABC&color=fff&name=A&size=100\" \r\n    return (\r\n        <div>\r\n            {\r\n                flag ? <div>\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            alignItems: \"center\"\r\n                        }}>\r\n                        <div\r\n                            style={{\r\n                                display: \"flex\",\r\n                                flexDirection: \"row\",\r\n                                alignItems: \"center\",\r\n                                backgroundImage: `url(${bgImg})`,\r\n                                height: \"150px\",\r\n                                width: \"100%\"\r\n                            }}>\r\n\r\n                            <img\r\n                                style={{\r\n                                    borderRadius: \"50%\",\r\n                                    overflow: \"hidden\",\r\n                                    display: \"flex\",\r\n                                    marginLeft: \"50px\"\r\n                                }} src={`https://eu.ui-avatars.com/api/?background=0D8ABC&color=fff&name=${result.viewer_name}&size=100`} alt=\"ava\" />\r\n                            <div\r\n                                style={{\r\n                                    fontWeight: \"bold\",\r\n                                    fontSize: \"20px\",\r\n                                    marginLeft: \"100px\",\r\n                                    color: \"black\"\r\n                                }}>\r\n                                <p\r\n                                    style={{\r\n                                        marginLeft: \"-60px\",\r\n                                        marginTop: \"15px\",\r\n                                        fontSize: \"40px\",\r\n                                        color: \"white\",\r\n                                        textShadow: \"0 0 10px #000000\"\r\n\r\n                                    }}>{result.viewer_name.toUpperCase()}</p>\r\n                            </div>\r\n                            {/* <a className='btn'\r\n                                style={{\r\n                                    height: \"35px\",\r\n                                    marginLeft: \"650px\",\r\n                                    marginTop: \"90px\"\r\n                                }}\r\n                                href='/WatchHistory'>WATCH HISTORY</a> */}\r\n                            <Link className='btn' style={{\r\n                                height: \"35px\",\r\n                                marginLeft: \"650px\",\r\n                                marginTop: \"90px\"\r\n                            }} to=\"/WatchHistory\">WATCH HISTORY</Link>\r\n                        </div>\r\n                        <p></p>\r\n                        <p></p>\r\n                        <h4>Date joined: {d}</h4>\r\n                        <table\r\n                            style={{\r\n                                width: \"60%\",\r\n                                marginTop: \"30px\"\r\n                            }}>\r\n                            <tr\r\n                                style={{\r\n                                    fontWeight: \"bold\",\r\n                                    fontSize: \"20px\"\r\n                                }}>\r\n                                <td>Count Parameters</td>\r\n                                <td>Shows</td>\r\n                                <td>Movies</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Watchlist media</td>\r\n                                <td>{result.tv_wishlisted}</td>\r\n                                <td>{result.movie_wishlisted}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Watched media</td>\r\n                                <td>{time.tv_watched}</td>\r\n                                <td>{time.movie_watched}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Time consumed</td>\r\n                                <td>{wastedShowTime(time.tv_time)}</td>\r\n                                <td>{wastedShowTime(time.movie_time)}</td>\r\n                            </tr>\r\n                        </table>\r\n                        <div>\r\n                            <p\r\n                                style={{\r\n                                    marginTop: \"30px\",\r\n                                    fontWeight: \"bold\",\r\n                                    fontSize: \"35px\"\r\n                                }}>Total watch time: {wastedShowTime(time.tv_time + time.movie_time)}</p>\r\n                        </div>\r\n                    </div>\r\n                    <br></br>\r\n                    <div>\r\n                        <h2 style={{ textAlign: \"center\" }}>Recommendations:</h2>\r\n                        <div>\r\n                            {\r\n                                recomm.map(details => {\r\n                                    if (details.media_type === \"tv\" || details.media_type === \"movie\")\r\n                                        return (\r\n\r\n                                            <DetailRecomm key={details.entry_id} props={details} btn={\"true\"} token={token} tk={tk} />\r\n\r\n                                        )\r\n\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div> : <></>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport Detail from './Detail'\r\nimport bgImg from '../assets/bgImg.jpg'\r\n\r\nfunction Search() {\r\n\r\n    const submitForm = (event) => {\r\n        event.preventDefault();\r\n        const api = process.env.REACT_APP_API_KEY\r\n        axios.get(`https://api.themoviedb.org/3/search/multi?api_key=${api}&language=en-US&query=${field}&page=1&include_adult=false`)\r\n            .then(res => {\r\n                setResult(res.data)\r\n                setFlag(true)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        //     setTimeout(() => {\r\n        //     if (result)\r\n        //         setFlag(true)\r\n        // }, 1000);\r\n    }\r\n\r\n    const [flag, setFlag] = useState(false)\r\n    const [field, setField] = useState(\"\")\r\n    const [result, setResult] = useState([])\r\n\r\n    return (\r\n        <div>\r\n\r\n            <form align=\"center\" width=\"50%\" margin-left=\"25%\" onSubmit={submitForm}\r\n                style={{\r\n                    backgroundImage: `url(${bgImg})`,\r\n                    backgroundPositionX: \"200px\",\r\n                    backgroundPositionY: \"0px\",\r\n                    height: \"180px\"\r\n                }}>\r\n                <div className='pa2'>\r\n                    <input style={{\r\n                        height: \"60px\",\r\n                        width: \"250px\",\r\n                        textAlign: \"center\",\r\n                        marginTop: \"20px\",\r\n                    }} type='search'\r\n                        placeholder='Search for Movies/Shows'\r\n                        onChange={(e) => setField(e.target.value)} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Search Database\" className=\"btn btn-primary\" />\r\n                </div>\r\n            </form>\r\n            <div>\r\n                {\r\n                    flag ?\r\n                        result.results.map(details => {\r\n                            if (details.media_type === \"tv\" || details.media_type === \"movie\")\r\n                                return (\r\n\r\n                                    <Detail key={details.id} props={details} />\r\n\r\n                                )\r\n\r\n                        }) : <div></div>\r\n                }\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport Detail from './Detail'\r\nimport bgImg from '../assets/bgImg.jpg'\r\n\r\nfunction SearchReg({ token, tk }) {\r\n\r\n    const submitForm = (event) => {\r\n        event.preventDefault();\r\n        const api = process.env.REACT_APP_API_KEY\r\n        axios.get(`https://api.themoviedb.org/3/search/multi?api_key=${api}&language=en-US&query=${field}&page=1&include_adult=false`)\r\n            .then(res => {\r\n                setResult(res.data)\r\n                setFlag(true)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        //     setTimeout(() => {\r\n        //     if (result)\r\n        //         setFlag(true)\r\n        // }, 1000);\r\n    }\r\n\r\n    const [flag, setFlag] = useState(false)\r\n    const [field, setField] = useState(\"\")\r\n    const [result, setResult] = useState([])\r\n\r\n    return (\r\n        <div>\r\n\r\n            <form align=\"center\" width=\"50%\" margin-left=\"25%\" onSubmit={submitForm}\r\n                style={{\r\n                    backgroundImage: `url(${bgImg})`,\r\n                    backgroundPositionX: \"200px\",\r\n                    backgroundPositionY: \"0px\",\r\n                    height: \"180px\"\r\n                }}>\r\n                <div className='pa2'>\r\n                    <input style={{\r\n                        height: \"60px\",\r\n                        width: \"250px\",\r\n                        textAlign: \"center\",\r\n                        marginTop: \"20px\",\r\n                    }} type='search'\r\n                        placeholder='Search for Movies/Shows'\r\n                        onChange={(e) => setField(e.target.value)} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Search Database\" className=\"btn btn-primary\" />\r\n                </div>\r\n            </form>\r\n            {\r\n                flag ?\r\n                    result.results.map(details => {\r\n                        if (details.media_type === \"tv\" || details.media_type === \"movie\")\r\n                            return (\r\n\r\n                                <Detail key={details.id} props={details} btn={\"true\"} token={token} tk={tk} />\r\n\r\n                            )\r\n\r\n                    }) : <></>\r\n            }\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchReg\r\n","import React from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport Axios from 'axios'\nimport landingPageImg from '../assets/landingPageImg.jpg'\n\nexport const Signup = () => {\n    const navigate = useNavigate()\n    const [name, setName] = useState('')\n    const [username, setUsername] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [age, setAge] = useState(0)\n\n    const submitRegister = (e) => {\n        e.preventDefault()\n        Axios.post('/db/register', {\n            name: name,\n            age: age,\n            username: username,\n            email: email,\n            password: password,\n        })\n            .then(() => {\n                alert(\"successful insert\")\n                navigate(\"/login\")\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n            }}>\n            <section\n                style={{\n                    marginTop: \"40px\",\n                    backgroundImage: `url(${landingPageImg})`,\n                    filter: \"brightness(100%)\",\n                    backgroundSize: \"cover\",\n                    width: \"600px\",\n                    height: \"500px\",\n                    borderRadius: \"10px\"\n                }}>\n                <h1\n                    style={{\n                        textAlign: \"center\",\n                        color: \"orange\",\n                        textShadow: \"0 0 8px black\",\n                        paddingTop: \"40px\",\n                        fontWeight: \"bold\",\n                    }}>Register</h1>\n                <form onSubmit={submitRegister}>\n                    <div className='signup-div'\n                        style={{\n                            textAlign: \"center\"\n                        }}>\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"text\" placeholder=\"name\" onChange={(e) => {\n                                setName(e.target.value)\n                            }} />\n                        <br />\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"number\" placeholder=\"age\" onChange={(e) => {\n                                setAge(e.target.value)\n                            }} />\n                        <br />\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"text\" placeholder=\"username\" onChange={(e) => {\n                                setUsername(e.target.value)\n                            }} />\n                        <br />\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"email\" placeholder=\"email\" onChange={(e) => {\n                                setEmail(e.target.value)\n                            }} />\n                        <br />\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"password\" placeholder=\"password\" onChange={(e) => {\n                                setPassword(e.target.value)\n                            }} />\n                        <br />\n                        <input\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            type=\"submit\" value=\"Register\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </section>\n\n        </div>\n    )\n    //comment\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Unregistered = () => {\r\n    return (\r\n        <header>\r\n            <div className=\"container\">\r\n                <div className=\"inner-content\">\r\n                    <div className=\"brand\">\r\n                        <Link to=\"/\">Tempus</Link>\r\n                    </div>\r\n\r\n                    <ul className='nav-links'>\r\n\r\n                        <li>\r\n                            <Link to=\"/search\">Search</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to=\"/login\">Login</Link>\r\n                        </li>\r\n\r\n                        <li>\r\n                            <Link to=\"/signup\">Signup</Link>\r\n                        </li>\r\n\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/download.fa8b25e4.jfif\";","export default __webpack_public_path__ + \"static/media/tmdbLogo.8e68965f.jpg\";","import React from 'react'\nimport tmdbLogo from '../assets/tmdbLogo.jpg'\nimport tmdb from '../assets/download.jfif'\nfunction Footer() {\n    return (\n\n        <div className=\"footer\"\n            style={{\n                position: \"relative\",\n                left: \"0\",\n                bottom: \"0\",\n                marginTop: \"700px\",\n                width: \"100%\",\n                backgroundImage: \"radial-gradient(at 30% top, #031d33 0%, rgba(3,37,65) 70%)\",\n                color: \"white\",\n                textAlign: \"center\",\n                height: \"70px\",\n            }}>\n\n\n            Copyright © 2022 by Tempus\n            <span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span>\n            Powered by\n            <img\n                style={{\n                    marginTop: \"10px\",\n                    marginRight: \"30px\",\n                    height: \"45px\",\n                    width: \"45px\"\n                }}\n                src={tmdb} alt=\"tmdb Logo\"></img>\n\n        </div >\n\n    )\n}\n\nexport default Footer\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { useState, useEffect, useContext, useRef } from 'react'\r\nimport \"./detail.css\"\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { Watchlist } from './Watchlist'\r\nimport Menu from './Menu'\r\n\r\nfunction DetailHistory({ props, btn, token, tk }) {\r\n\r\n    const [media, setMedia] = useState({})\r\n    const [flag, setFlag] = useState(btn)\r\n\r\n    const api = process.env.REACT_APP_API_KEY\r\n    const type = props.media_type\r\n    var media_id = props.media_id\r\n\r\n    useEffect(() => {\r\n\r\n        async function getData() {\r\n            if (props.media_type === \"tv\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/tv/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n\r\n\r\n            }\r\n            if (props.media_type === \"movie\") {\r\n                try {\r\n                    const cData = await axios.get(`https://api.themoviedb.org/3/movie/${media_id}?api_key=${api}&language=en-US`)\r\n                    setMedia(cData.data)\r\n                    console.log(cData.data)\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        getData()\r\n\r\n    }, [])\r\n\r\n    var duration\r\n    var title\r\n\r\n    if (type === \"tv\" || type === \"movie\") {\r\n\r\n        if (type === \"tv\") {\r\n            title = media.name\r\n            let epRunTime = 0\r\n            if (Array.isArray(media.episode_run_time)) {\r\n                epRunTime = media.episode_run_time[0]\r\n            }\r\n            else {\r\n                epRunTime = media.episode_run_time\r\n            }\r\n            let noOfEp = media.number_of_episodes\r\n            duration = epRunTime * noOfEp\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_name\r\n        }\r\n        if (type === \"movie\") {\r\n            title = media.title\r\n            duration = media.runtime\r\n            if (!duration) {\r\n                duration = 0\r\n            }\r\n            if (title === null)\r\n                title = media.original_title\r\n        }\r\n    }\r\n    const imgUrl = (media.backdrop_path) ? media.backdrop_path : media.poster_path\r\n    const whichone = (media.backdrop_path) ? \"backdrop\" : \"poster\"\r\n    return (\r\n\r\n        <div className=' standard bg-blue dib br4  pd4 ma3 grow bw3 shadow=7'>\r\n\r\n\r\n            <img className={`${whichone}`} alt='Not Available' src={`https://image.tmdb.org/t/p/original/${imgUrl}`} />\r\n\r\n            <div className=' f5 tc'>\r\n                <h4>{title} </h4>\r\n                <p>{props.media_type}</p>\r\n                <p>{duration} min  </p>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailHistory\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport Detail from './Detail'\r\nimport bgImg from '../assets/bgImg.jpg'\r\nimport DetailHistory from './DetailHistory'\r\n\r\nfunction WatchHistory({ tk }) {\r\n\r\n    const submitForm = (event) => {\r\n        event.preventDefault();\r\n        const api = process.env.REACT_APP_API_KEY\r\n        // axios.get(`http://localhost:5001/db/watch_history`, {\r\n        //     headers: {\r\n        //         authorization: `bearer ${tk}`\r\n        //     }\r\n        // })\r\n        //     .then(res => {\r\n\r\n\r\n        //         let day = date.substring(8, 10)\r\n        //         let month = date.substring(5, 7)\r\n        //         let year = date.substring(0, 4)\r\n\r\n        //         let ds = month + \"-\" + day + \"-\" + year\r\n\r\n        //         var dateH = new Date(ds);\r\n        //         var json = JSON.stringify(dateH)\r\n\r\n\r\n        //         const filter = res.data.filter(function (entry) {\r\n        //             return `\"${entry.timestamp}\"` === json\r\n        //         })\r\n\r\n\r\n\r\n        //         setResult(filter)\r\n        //         console.log(\"act result\", result)\r\n\r\n        //         setFlag(true)\r\n        //     })\r\n        //     .catch(err => console.log(err))\r\n\r\n        let body = {\r\n            date: date\r\n        }\r\n        axios.post(`/db/watch_history_get`, body, {\r\n            headers: {\r\n                authorization: `bearer ${tk}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                setResult(res.data)\r\n                console.log(\"TES:\", res)\r\n\r\n                if (res.data.length > 0) {\r\n                    setFlag2(true)\r\n                }\r\n                else {\r\n                    setFlag2(false)\r\n                }\r\n                setFlag(true)\r\n            }\r\n\r\n            ).catch(err => console.log(err))\r\n    }\r\n\r\n    const [flag, setFlag] = useState(false)\r\n    const [flag2, setFlag2] = useState(false)\r\n    const [date, setDate] = useState(\"\")\r\n    const [result, setResult] = useState([])\r\n\r\n    // var json = `\"${result.timestamp}\"`\r\n    // var dateStr = JSON.parse(json)\r\n    // var date = new Date(dateStr)\r\n    // let year = date.getFullYear().toString()\r\n    // let month = (date.getMonth() + 1).toString()\r\n    // let day = date.getDate().toString()\r\n    // let d = day + \"-\" + month + \"-\" + year\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <form align=\"center\" width=\"50%\" margin-left=\"25%\" onSubmit={submitForm}\r\n                style={{\r\n                    backgroundImage: `url(${bgImg})`,\r\n                    backgroundPositionX: \"200px\",\r\n                    backgroundPositionY: \"0px\",\r\n                    height: \"180px\"\r\n                }}>\r\n                <div className='pa2'>\r\n                    <input style={{\r\n                        height: \"60px\",\r\n                        width: \"250px\",\r\n                        textAlign: \"center\",\r\n                        marginTop: \"20px\",\r\n                    }} type='date'\r\n                        placeholder='Select date for watch_history'\r\n                        onChange={(e) => setDate(e.target.value)} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Search Database\" className=\"btn btn-primary\" />\r\n                </div>\r\n            </form>\r\n            <div>\r\n                {\r\n                    flag ? (flag2 ?\r\n                        result.map(details => {\r\n                            if (details.media_type === \"tv\" || details.media_type === \"movie\")\r\n                                return (\r\n\r\n                                    <DetailHistory key={details.media_id} props={details} />\r\n\r\n                                )\r\n\r\n                        }) : <div style={{\r\n                            textAlign: \"center\",\r\n                            marginTop: \"30px\",\r\n                            fontWeight: \"bold\",\r\n                            fontSize: \"30px\"\r\n\r\n                        }}> No media watched on this day </div>) : <div></div>\r\n                }\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WatchHistory\r\n","import React, { useState } from 'react'\nimport bgImg from '../assets/bgImg.jpg'\nimport { useNavigate } from 'react-router-dom'\n\nfunction ProfileUpdate({ fn }) {\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const navigate = useNavigate()\n\n    const handleLogin = (e) => {\n        e.preventDefault()\n        // const cred = {\n        //     username: username,\n        //     password: password\n        // }\n        // axios.post('http://localhost:5001/db/login', cred)\n        //     .then(res => {\n\n        //         fn(res.data, true)\n        //         navigate(\"/watchlist\")\n        //     })\n        //     .catch(err => {\n        //         console.log(err)\n        //         console.log(err.response.data)\n        //     })\n\n    }\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n            }}>\n            <section\n                style={{\n                    marginTop: \"50px\",\n                    backgroundImage: `url(${bgImg})`,\n                    filter: \"brightness(100%)\",\n                    backgroundSize: \"cover\",\n                    width: \"500px\",\n                    height: \"500px\",\n                    borderRadius: \"10px\"\n                }}>\n                <h1\n                    style={{\n                        textAlign: \"center\",\n                        color: \"yellow\",\n                        textShadow: \"0 0 10px black\",\n                        paddingTop: \"40px\",\n                        fontWeight: \"bold\",\n                        marginTop: \"-20px\",\n                        marginBottom: \"40px\"\n                    }}>Update Profile Details</h1>\n                <form onSubmit={handleLogin}>\n                    <div className='login-div'\n                        style={{\n                            textAlign: \"center\"\n                        }}>\n                        <input type=\"text\" placeholder=\"username\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            // onChange={(e) => setUsername(e.target.value)}\n                            required\n                        />\n                        <br />\n\n                        <input type=\"password\" placeholder=\"password\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            //onChange={(e) => setPassword(e.target.value)}\n                            required\n                        />\n                        <br />\n                        <p\n                            style={{\n                                fontWeight: \"bold\",\n                                color: \"yellow\",\n                                marginTop: \"35px\"\n                            }}>New Details</p>\n                        <input type=\"text\" placeholder=\"new username\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            required />\n                        <br />\n                        <input type=\"password\" placeholder=\"new password\"\n                            style={{\n                                marginBottom: \"10px\"\n                            }}\n                            required\n                        />\n                        <br />\n                        <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </section>\n        </div>\n    )\n}\n\nexport default ProfileUpdate\n","import React from \"react\"\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\"\nimport { Header } from \"./components/Header\"\nimport { Watchlist } from \"./components/Watchlist\"\nimport { Watched } from \"./components/Watched\"\nimport { Home } from \"./components/Home\"\nimport { Login } from './components/Login'\nimport { Profile } from './components/Profile'\nimport Search from './components/Search'\nimport SearchReg from './components/SearchReg'\nimport \"./App.css\"\nimport \"./lib/css/all.min.css\"\nimport { Signup } from \"./components/Signup\";\nimport { useState, useEffect, useReducer } from 'react'\nimport { Unregistered } from \"./components/Unregistered\";\nimport jwt from 'jsonwebtoken'\nimport { GlobalProvider } from './context/GlobalState'\nimport Footer from \"./components/Footer\";\nimport WatchHistory from \"./components/WatchHistory\";\nimport ProfileUpdate from \"./components/ProfileUpdate\";\nfunction App() {\n\n  function getAuth() {\n    if (sessionStorage.getItem(\"auth\")) {\n      let result = sessionStorage.getItem(\"auth\")\n      let secret = process.env.REACT_APP_SECRET\n      var decodedToken\n      jwt.verify(result, secret, function (err, decode) {\n        if (err) { decodedToken = {} }\n        else {\n          decodedToken = decode\n        }\n        if (decodedToken.exp * 1000 < Date.now()) {\n          console.log(\"got exec here for exp\")\n          decodedToken = {}\n        }\n      })\n      if (decodedToken) {\n        console.log(decodedToken, \"this is decoded token for auth \")\n        return decodedToken.auth\n      }\n      return false;\n\n    }\n    return false;\n  }\n  const [auth, setAuth] = useState(getAuth())\n\n  function getDecode() {\n    if (sessionStorage.getItem(\"auth\")) {\n      let result = sessionStorage.getItem(\"auth\")\n      let secret = process.env.REACT_APP_SECRET\n      var decodedToken\n      jwt.verify(result, secret, function (err, decode) {\n        if (err) { decodedToken = {} }\n        else {\n          decodedToken = decode\n        }\n        if (decodedToken.exp * 1000 < Date.now()) {\n          console.log(\"got exec here for exp\")\n          decodedToken = {}\n        }\n\n      })\n      if (decodedToken) {\n        console.log(decodedToken, \"this is decoded token for auth \")\n        return decodedToken\n      }\n      return {}\n\n    }\n    return {};\n  }\n  const [dtoken, setDecode] = useState(getDecode())\n\n  function getToken() {\n    if (sessionStorage.getItem(\"auth\")) {\n      let result = sessionStorage.getItem(\"auth\")\n\n      return result\n    }\n    return '';\n  }\n  const [token, setToken] = useState(getToken())\n\n  useEffect(() => {\n    if (sessionStorage.getItem(\"auth\")) {\n      let result = sessionStorage.getItem(\"auth\")\n      setToken(result)\n      console.log(result)\n      let secret = process.env.REACT_APP_SECRET\n      var decodedToken\n      jwt.verify(result, secret, function (err, decode) {\n\n        if (err) {\n          console.log(\"got exec err of token \")\n          console.log(err)\n          decodedToken = {}\n        }\n        else {\n          decodedToken = decode\n        }\n        if (decodedToken.exp * 1000 < Date.now()) {\n          console.log(\"got exec here for exp\")\n          decodedToken = {}\n        }\n      })\n\n      if (decodedToken) {\n        setDecode(decodedToken)\n        setAuth(decodedToken.auth)\n      }\n      else {\n        setDecode({})\n        setAuth(false)\n      }\n\n\n    } else {\n\n      sessionStorage.setItem(\"auth\", '')\n    }\n  }, [])\n\n  function changeAuth(token, auth) {\n    let decodedToken = {}\n    setToken(token)\n    if (token) {\n      let secret = process.env.REACT_APP_SECRET\n      decodedToken = jwt.verify(token, secret)\n    }\n    setDecode(decodedToken)\n    setAuth(auth)\n\n    sessionStorage.setItem(\"auth\", token)\n  }\n  const [time, setTime] = useState()\n  function changeTimer(timer) {\n    setTime(timer)\n  }\n\n\n\n  return (\n    <GlobalProvider>\n      <Router>\n\n        {\n          auth ?\n            <Header fn={changeAuth} t={time} /> : <Unregistered />\n        }\n\n        <Routes>\n\n          <Route path=\"/\" element={<Home token={dtoken} />} />\n\n          <Route path=\"/watchlist\" element={!auth ? <Navigate to=\"/\" /> : <Watchlist token={dtoken} tk={token} />} />\n\n          <Route path=\"/watched\" element={!auth ? <Navigate to=\"/\" /> : <Watched token={dtoken} tk={token} />} />\n\n          <Route path=\"/profile\" element={!auth ? <Navigate to=\"/\" /> : <Profile token={dtoken} tk={token} />} />\n\n          <Route path=\"/searchReg\" element={!auth ? <Navigate to=\"/search\" /> : <SearchReg token={dtoken} tk={token} />} />\n\n          <Route path=\"/WatchHistory\" element={!auth ? <Navigate to=\"/\" /> : <WatchHistory token={dtoken} tk={token} />} />\n\n          <Route path=\"/ProfileUpdate\" element={!auth ? <Navigate to=\"/\" /> : < ProfileUpdate token={dtoken} tk={token} />} />\n\n          <Route path=\"/search\" element={<Search />} />\n\n          <Route path=\"/login\" element={<Login fn={changeAuth} ft={changeTimer} />} />\n\n          <Route path=\"/signup\" element={<Signup />} />\n\n        </Routes>\n        <Footer />\n      </Router>\n    </GlobalProvider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'tachyons';\nReactDOM.render(\n\n  <App />, document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}